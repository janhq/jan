---
title: Troubleshooting
description: Explore solutions for common issues and optimize Jan's performance with this comprehensive troubleshooting guide.
keywords:
  [
    Jan,
    Customizable Intelligence, LLM,
    local AI,
    privacy focus,
    free and open source,
    private and offline,
    conversational AI,
    no-subscription fee,
    large language models,
    troubleshooting,
    error codes,
    broken build,
    something amiss,
    unexpected token,
    undefined issue,
    permission denied,
  ]
---

import { Tabs } from 'nextra/components'
import { Callout } from 'nextra/components'

# Troubleshooting

## Broken Build

To resolve the issue where your Jan is stuck in a broken build after installation.

<Tabs items={['Mac', 'Windows', 'Linux']}>
  <Tabs.Tab>
      1. Uninstall Jan.

      2. Delete Application Data, Cache, and User Data:

      ```zsh
      # Step 1: Delete the application data
      rm -rf ~/Library/Application\ Support/jan/data

      # Step 2: Clear application cache
      rm -rf ~/Library/Application\ Support/Jan/cache

      # Step 3: Remove all user data
      rm -rf ~/jan
      ```

      3. If you are using a version before `0.4.2`, you need to run the following commands:

      ```zsh
      ps aux | grep nitro
      # Looks for processes like `nitro` and `nitro_arm_64`, and kill them one by one by process ID
      kill -9 <PID>
      ```

      4. Download the latest version of Jan from our [homepage](https://jan.ai/).
  </Tabs.Tab>

  <Tabs.Tab>
      1. Uninstall Jan on Windows, by using the [Windows Control Panel](https://support.microsoft.com/en-us/windows/uninstall-or-remove-apps-and-programs-in-windows-4b55f974-2cc6-2d2b-d092-5905080eaf98).

      2. Delete Application Data, Cache, and User Data:

      ```bash
      # You can delete the `/Jan` directory in Windows's AppData Directory by visiting the following path `%APPDATA%\Jan`
      cd C:\Users\%USERNAME%\AppData\Roaming
      rmdir /S jan
      ```

      3. If you are using a version before `0.4.2`, you need to run the following commands:

      ```bash
      # Find the process ID (PID) of the nitro process by filtering the list by process name
      tasklist | findstr "nitro"
      # Once you have the PID of the process you want to terminate, run the `taskkill`
      taskkill /F /PID <PID>
      ```

      4. Download the latest version of Jan from our [homepage](https://jan.ai/).
  </Tabs.Tab>

  <Tabs.Tab>
      1. Uninstall Jan
      <Tabs items={['Linux', 'Debian / Ubuntu', 'Others']}>
          <Tabs.Tab >

              To uninstall Jan, use your package manager's uninstall or remove option.

              This will return your system to its state before installation in Jan.

              This method can also reset all settings if you are experiencing any issues with Jan.

          </Tabs.Tab>
          <Tabs.Tab value = "deb_ub" label = "Debian / Ubuntu">

              To uninstall Jan, run the following command.MDXContent

              ```bash
              sudo apt-get remove jan
              # where Jan is the name of Jan's package
              ```

              This will return your system to its state before installation in Jan.

              This method can also reset all settings if you are experiencing any issues with Jan.

          </Tabs.Tab>
          <Tabs.Tab value = "other" label = "Others">

              You can uninstall Jan by deleting the `.AppImage` file.

              If you wish to remove all user data associated with Jan after uninstallation, you can delete the user data at `~/jan`.

              This method can also reset all settings if you are experiencing any issues with Jan.

          </Tabs.Tab>
      </Tabs>

      2. Delete Application Data, Cache, and User Data:

      ```bash
      # You can delete the user data folders located at the following `~/jan`
      rm -rf ~/jan
      ```

      3. If you are using a version before `0.4.2`, you need to run the following commands:

      ```zsh
      ps aux | grep nitro
      # Looks for processes like `nitro` and `nitro_arm_64`, and kill them one by one by process ID
      kill -9 <PID>
      ```

      4. Download the latest version of Jan from our [homepage](https://jan.ai/).
  </Tabs.Tab>

</Tabs>

Following these steps, you can cleanly uninstall and reinstall Jan, ensuring a smooth and error-free experience with the latest version.

<Callout type="info">
  Before reinstalling Jan, ensure it's completely removed from all shared spaces if installed on multiple user accounts on your device.
</Callout>

## Troubleshooting NVIDIA GPU

To resolve issues when the Jan app does not utilize the NVIDIA GPU on Windows and Linux systems.

#### 1. Ensure GPU Mode Requirements

<Tabs items={['Windows', 'Linux']}>
  <Tabs.Tab>
    
    ##### NVIDIA Driver

    - Install an [NVIDIA Driver](https://www.nvidia.com/Download/index.aspx) supporting CUDA 11.7 or higher.
      - Use the following command to verify the installation:

    ```bash
    nvidia-smi
    ```

    ##### CUDA Toolkit

    - Install a [CUDA toolkit](https://developer.nvidia.com/cuda-downloads) compatible with your NVIDIA driver.
      - Use the following command to verify the installation:

    ```bash
    nvcc --version
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    
    ##### NVIDIA Driver

    - Install an [NVIDIA Driver](https://www.nvidia.com/Download/index.aspx) supporting CUDA 11.7 or higher.
      - Use the following command to verify the installation:

    ```bash
    nvidia-smi
    ```

    ##### CUDA Toolkit

    - Install a [CUDA toolkit](https://developer.nvidia.com/cuda-downloads) compatible with your NVIDIA driver.
      - Use the following command to verify the installation:

    ```bash
    nvcc --version
    ```
    ##### Linux Specifics

    - Ensure that `gcc-11`, `g++-11`, `cpp-11`, or higher is installed.
      - See [instructions](https://gcc.gnu.org/projects/cxx-status.html#cxx17) for Ubuntu installation.

    - **Post-Installation Actions**: Add CUDA libraries to `LD_LIBRARY_PATH`.
    - Follow the [Post-installation Actions](https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#post-installation-actions) instructions.

  </Tabs.Tab>
</Tabs>

#### 2. Switch to GPU Mode

If your system supports it, Jan defaults to CPU mode but automatically switches to GPU mode, selecting the GPU with the highest VRAM. Check this setting in `Settings` > `Advanced Settings`.

##### Troubleshooting Tips

If GPU mode isn't enabled by default:

1. Confirm that you have installed an NVIDIA driver supporting CUDA 11.7 or higher. Refer to [CUDA compatibility](https://docs.nvidia.com/deploy/cuda-compatibility/index.html#binary-compatibility__table-toolkit-driver).
2. Ensure compatibility of the CUDA toolkit with your NVIDIA driver. Refer to [CUDA compatibility](https://docs.nvidia.com/deploy/cuda-compatibility/index.html#binary-compatibility__table-toolkit-driver).
3. Add CUDA's `.so` libraries to the `LD_LIBRARY_PATH` for Linux. Ensure that CUDA's `.dll` libraries are in the PATH for Windows. Refer to [Windows setup](https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html#environment-setup).


If you encounter an error message indicating that loading a model requires additional dependencies, follow these steps:

1. Click on **Install Additional Dependencies** in the error message.
2. You will be redirected to the **Tensor RT LLM Inference Engine** section.
3. Click the **Install** button to install additional dependencies.

#### 3. Check GPU Settings

1. Navigate to `Settings` > `Advanced Settings` > `Jan Data Folder` to access GPU settings.
2. Open the `settings.json` file in the `settings` folder. Here's an example:

```json title="~/jan/data/settings/settings.json"
{
  "notify": true,
  "run_mode": "gpu",
  "nvidia_driver": {
    "exist": true,
    "version": "531.18"
  },
  "cuda": {
    "exist": true,
    "version": "12"
  },
  "gpus": [
    {
      "id": "0",
      "vram": "12282"
    },
    {
      "id": "1",
      "vram": "6144"
    },
    {
      "id": "2",
      "vram": "6144"
    }
  ],
  "gpu_highest_vram": "0"
}
```

#### 4. Restart Jan

Restart the Jan application to make sure it works.

##### Troubleshooting Tips

- Ensure the `nvidia_driver` and `cuda` fields indicate installed software.
- If `gpus` field is empty or lacks your GPU, check the NVIDIA driver and CUDA toolkit installations.
- For further assistance, share the `settings.json` file.

#### Tested Configurations

- **Windows 11 Pro 64-bit:**

  - GPU: NVIDIA GeForce RTX 4070ti
  - CUDA: 12.2
  - NVIDIA driver: 531.18 (Bare metal)

- **Ubuntu 22.04 LTS:**

  - GPU: NVIDIA GeForce RTX 4070ti
  - CUDA: 12.2
  - NVIDIA driver: 545 (Bare metal)

- **Ubuntu 20.04 LTS:**

  - GPU: NVIDIA GeForce GTX 1660ti
  - CUDA: 12.1
  - NVIDIA driver: 535 (Proxmox VM passthrough GPU)

- **Ubuntu 18.04 LTS:**
  - GPU: NVIDIA GeForce GTX 1660ti
  - CUDA: 12.1
  - NVIDIA driver: 535 (Proxmox VM passthrough GPU)

#### Common Issues and Solutions

1. If the issue persists, install the [Nightly version](/guides/quickstart/#nightly-releases).
2. Ensure your (V)RAM is accessible; some users with virtual RAM may require additional configuration.
3. Seek assistance in [Jan Discord](https://discord.gg/mY69SZaMaC).

## How to Get Error Logs

To get the error logs of your Jan application, follow the steps below:

#### Jan Application

1. Navigate to the main dashboard.
2. Click the **gear icon (‚öôÔ∏è)** on the bottom left of your screen.
3. Under the **Settings screen**, click the **Advanced Settings**.
4. On the **Jan Data Folder** click the **folder icon (üìÇ)** to access the data.
5. Click the **logs** folder.

#### Jan UI

1. Open your Unix or Linux terminal.
2. Use the following commands to get the recent 50 lines of log files:

```bash
tail -n 50 ~/jan/data/logs/app.log

```

#### Jan API Server

1. Open your Unix or Linux terminal.
2. Use the following commands to get the recent 50 lines of log files:

```bash
tail -n 50 ~/jan/data/logs/server.log

```

<Callout type="warning">
Ensure to redact any private or sensitive information when sharing logs or error details.
</Callout>

## Permission Denied

When running Jan, you might encounter the following error message:

```
Uncaught (in promise) Error: Error invoking layout-480796bff433a3a3.js:538 remote method 'installExtension':
Error Package /Applications/Jan.app/Contents/Resources/app.asar.unpacked/pre-install/janhq-assistant-extension-1.0.0.tgz does not contain a valid manifest:
Error EACCES: permission denied, mkdtemp '/Users/username/.npm/_cacache/tmp/ueCMn4'
```

Permission problems mainly cause this error during installation. To resolve this issue, follow these steps:

1. Open your terminal.

2. Execute the following command to change ownership of the `~/.npm` directory to the current user:

```bash
sudo chown -R $(whoami) ~/.npm
```

<Callout type="info">
This command ensures that the necessary permissions are granted for Jan's installation, resolving the encountered error.
</Callout>

## Something's Amiss

When you start a chat with a model and encounter a Something's Amiss error, here's how to resolve it:

1. Ensure your OS is up to date.
2. Choose a model smaller than 80% of your hardware's V/RAM. For example, on an 8GB machine, opt for models smaller than 6 GB.
3. Install the latest [Nightly release](/guides/quickstart/#nightly-releases) or [clear the application cache](#broken-build) when reinstalling Jan.
4. Confirm your V/RAM accessibility, mainly if using virtual RAM.
5. Nvidia GPU users should download [CUDA](https://developer.nvidia.com/cuda-downloads).
6. Linux users, ensure your system meets the requirements of gcc 11, g++ 11, cpp 11, or higher. Refer to this [link](#troubleshooting-nvidia-gpu) for details.
7. You might use the wrong port when you [check the app logs](#how-to-get-error-logs) and encounter the Bind address failed at 127.0.0.1:39291 error. To check the port status, try using the `netstat` command, like the following:

<Tabs items={['Mac', 'Windows', 'Linux']}>
    <Tabs.Tab >
        ```bash
        netstat -an | grep 39291
        ```
    </Tabs.Tab>
    <Tabs.Tab >
        ```bash
        netstat -ano | find "39291" 
        tasklist /fi "PID eq 39291"
        ```
    </Tabs.Tab>
    <Tabs.Tab >
        ```bash
        netstat -anpe | grep "39291" 
        ```
    </Tabs.Tab>
</Tabs>

<Callout type="info">
  `Netstat` displays the contents of various network-related data structures for active connections.
</Callout>

<Callout type='warning'>
  Jan uses the following ports:
  - Jan and Cortex API Server: `1337`
  - Jan Documentation: `3001`
</Callout>

## Undefined Issue
If you experience an undefined or unusual issue, please follow the steps below:
1. Delete Jan's extension folder located at `~/jan/data`.
2. Restart the Jan application.
## Unexpected Token

Encountering the `Unexpected token` error when initiating a chat with OpenAI models is mainly caused by your OpenAI key or where you access your OpenAI from. This issue can be solved through the following steps:

1. Obtain an OpenAI API key from [OpenAI's developer platform](https://platform.openai.com/) and integrate it into your application.

2. Using a VPN could potentially solve the issue, especially if it's related to region locking for accessing OpenAI services. Connecting through a VPN may bypass such restrictions and successfully initiate chats with OpenAI models.

<Callout type="info">
  If you have any questions or are looking for support, please don't hesitate to contact us via our [Discord community](https://discord.gg/Dt7MxDyNNZ) or create a new issue in our [GitHub repository](https://github.com/janhq/jan/issues/new/choose).
</Callout>
